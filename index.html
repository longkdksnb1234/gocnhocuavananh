<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V√¢n Anh's Winter Wonderland ‚ùÑÔ∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* --- C·∫•u h√¨nh chung --- */
        :root {
            --night-blue: #0f172a;
            --warm-red: #7f1d1d;
            --gold: #fbbf24;
            --white: #f8fafc;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Nunito', sans-serif;
            color: var(--white);
            min-height: 100vh;
            /* GI·ªÆ NGUY√äN N·ªÄN ƒê·ªé ƒêEN C≈® */
            background: linear-gradient(180deg, var(--night-blue) 0%, var(--night-blue) 40%, #581c1c 80%, var(--warm-red) 100%);
            background-attachment: fixed;
            overflow-x: hidden; /* ·∫®n thanh cu·ªôn ngang */
        }

        /* --- CANVAS 3D (L·ªöP N·ªÄN TUY·∫æT) --- */
        #webgl-canvas {
            position: fixed; /* C·ªë ƒë·ªãnh ƒë·ªÉ kh√¥ng tr√¥i khi cu·ªôn trang */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0; /* N·∫±m d∆∞·ªõi n·ªôi dung nh∆∞ng tr√™n background m√†u */
            pointer-events: none; /* ƒê·ªÉ chu·ªôt b·∫•m xuy√™n qua v√†o c√°c n√∫t */
        }

        /* --- Layout --- */
        .container {
            position: relative;
            z-index: 10; /* N·ªôi dung ph·∫£i n·ªïi l√™n tr√™n tuy·∫øt */
            max-width: 1000px;
            margin: 0 auto;
            text-align: center;
            padding: 60px 20px;
        }

        h1 {
            font-family: 'Dancing Script', cursive;
            font-size: 4.5em;
            margin-bottom: 5px;
            text-shadow: 0 0 25px rgba(251, 191, 36, 0.6);
            color: var(--gold);
            animation: floatTitle 3s ease-in-out infinite;
        }

        @keyframes floatTitle {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .subtitle {
            font-size: 1.1em;
            margin-bottom: 50px;
            opacity: 0.9;
            font-weight: 300;
            letter-spacing: 1.5px;
            border-bottom: 1px solid rgba(255,255,255,0.3);
            display: inline-block;
            padding-bottom: 10px;
        }

        /* --- Grid Menu --- */
        .grid-menu {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
        }

        .card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(5px); /* Gi·∫£m blur m·ªôt ch√∫t ƒë·ªÉ m√°y y·∫øu ch·∫°y m∆∞·ª£t h∆°n v·ªõi 3D */
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 30px;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            text-decoration: none;
            color: white;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .card:hover {
            transform: translateY(-8px) scale(1.02);
            background: rgba(255, 255, 255, 0.15);
            border-color: var(--gold);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
        }

        .card:hover .icon {
            transform: scale(1.2) rotate(10deg);
        }

        .card .icon {
            font-size: 4em;
            margin-bottom: 20px;
            display: block;
            transition: transform 0.3s ease;
        }

        .card h2 {
            margin: 0 0 10px 0;
            font-size: 1.5em;
            font-weight: 700;
        }

        .card p {
            font-size: 0.95em;
            line-height: 1.6;
            opacity: 0.8;
            margin: 0;
        }

        /* --- Style ri√™ng cho G√≥c Chill --- */
        .card.chill-zone {
            grid-column: 1 / -1;
            background: rgba(15, 23, 42, 0.7);
            border: 1px solid rgba(251, 191, 36, 0.3);
        }

        #countdown {
            font-size: 2.8em;
            font-weight: 700;
            color: var(--gold);
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            text-shadow: 0 2px 5px rgba(0,0,0,0.5);
        }

        #daily-quote {
            font-style: italic;
            font-size: 1.2em;
            margin-top: 10px;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.1);
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        footer {
            margin-top: 80px;
            font-size: 0.9em;
            opacity: 0.6;
            position: relative;
            z-index: 10;
        }
        
        @media (max-width: 600px) {
            h1 { font-size: 3em; }
            #countdown { font-size: 1.8em; }
        }
    </style>
</head>
<body>

    <canvas id="webgl-canvas"></canvas>

    <div class="container">
        <h1>Merry Christmas 2025</h1>
        <div class="subtitle">M·ªôt ch√∫t b√¨nh y√™n m√πa Noel</div>

        <div class="grid-menu">
            
            <div class="card chill-zone" onclick="showRandomQuote()">
                <span class="icon">üï∞Ô∏è</span>
                <h2>Tr·∫°m S·∫°c NƒÉng L∆∞·ª£ng</h2>
                <div id="countdown">Loading...</div>
                <div id="daily-quote" style="cursor: pointer;" title="B·∫•m ƒë·ªÉ xem c√¢u kh√°c">
                    "ƒêang t·∫£i y√™u th∆∞∆°ng..."
                </div>
                <p style="font-size: 0.8em; margin-top: 10px; opacity: 0.5;">(Ch·∫°m v√†o c√¢u n√≥i ƒë·ªÉ xem th√™m)</p>
            </div>

            <a href="nguoi_tuyet.html" class="card">
                <span class="icon">‚òÉÔ∏è</span>
                <h2>X∆∞·ªüng ƒê·∫Øp Ng∆∞·ªùi Tuy·∫øt</h2>
                <p>ƒê·∫Øp ng∆∞·ªùi tuy·∫øt cute m√† kh√¥ng lo l·∫°nh tay.</p>
                <p>p/s: ·ªû ƒë√¢y c√≥ k√®o th∆°m</p>
            </a>

            <a href="tien_tri.html" class="card">
                <span class="icon">üîÆ</span>
                <h2>V≈© Tr·ª• Ti√™n Tri</h2>
                <p>K·∫øt n·ªëi nƒÉng l∆∞·ª£ng v≈© tr·ª• ƒë·ªÉ g·ª° r·ªëi t∆° l√≤ng (ho·∫∑c ƒë∆°n gi·∫£n l√† ch·ªçn m√†u son).</p>
            </a>

            <a href="goc_cua_xa.html" class="card">
                <span class="icon">üò∫</span>
                <h2>G√≥c C·ªßa X·∫£</h2>
                <p>·ªû ƒë√¢y h∆°i nhi·ªÅu s·ª± "v√¥ tri" gi√∫p ch·ªã x·∫£ stress c·ª±c m·∫°nh.</p>
            </a>

        </div>

        <footer>
            From Long with <span style="color: #e74c3c;">‚ù§</span> for Van Anh
        </footer>
    </div>

    <script src="three.min.js"></script>

    <script>
        // --- PH·∫¶N 1: LOGIC WEBSITE C≈® (Countdown & Quotes) ---
        function updateCountdown() {
            const now = new Date();
            const currentYear = now.getFullYear();
            let targetDate = new Date(currentYear, 11, 25, 0, 0, 0); 
            if (now > targetDate) targetDate = new Date(currentYear + 1, 11, 25, 0, 0, 0);
            
            const diff = targetDate - now;
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);

            document.getElementById('countdown').innerHTML = 
                `${days}d : ${hours}h : ${minutes}m : ${seconds}s`;
        }

        const quotes = [
            "Deadline c√≥ th·ªÉ d√≠, nh∆∞ng tinh th·∫ßn th√¨ kh√¥ng ƒë∆∞·ª£c suy!",
            "Kho b·∫°c nh√† n∆∞·ªõc v·∫´n ·ªü ƒë√≥, vi·ªác h√¥m nay ch∆∞a xong mai l√†m ti·∫øp. Relax th√¥i!",
            "S·ªë li·ªáu c√≥ th·ªÉ kh√¥ khan, nh∆∞ng t√¢m h·ªìn ch·ªã ph·∫£i lu√¥n t∆∞∆°i m√°t.",
            "Sau c∆°n m∆∞a tr·ªùi l·∫°i s√°ng. Sau quy·∫øt to√°n l√†... T·∫øt D∆∞∆°ng!",
            "M·ªôt n·ª• c∆∞·ªùi b·∫±ng m∆∞·ªùi thang thu·ªëc b·ªï, nh∆∞ng m·ªôt gi·∫•c ng·ªß ngon c√≤n b·ªï h∆°n.",
            "ƒê·ª´ng ƒë·ªÉ √°p l·ª±c c√¥ng vi·ªác l√†m m·ªù ƒëi v·∫ª ƒë·∫πp c·ªßa ng∆∞·ªùi ph·ª• n·ªØ gi·ªèi giang.",
            "Excel c√≥ th·ªÉ treo, nh∆∞ng n·ª• c∆∞·ªùi c·ªßa ch·ªã th√¨ kh√¥ng ƒë∆∞·ª£c t·∫Øt.",
            "Ch·ªã ƒë√£ v·∫•t v·∫£ nhi·ªÅu r·ªìi, ngh·ªâ ng∆°i m·ªôt ch√∫t ƒëi, th·∫ø gi·ªõi kh√¥ng s·∫≠p ƒë√¢u.",
            "M√®o X·∫£ g·ª≠i l·ªùi ch√†o: Meow meow (D·ªãch: Ch√∫c ch·ªã m·ªôt ng√†y vui v·∫ª).",
            "B√¨nh tƒ©nh, t·ª± tin, chi·∫øn th·∫Øng (v√† nh·ªõ ƒëi v·ªÅ ƒë√∫ng gi·ªù).",
            "M·ªçi chuy·ªán r·ªìi s·∫Ω ·ªïn th√¥i. N·∫øu ch∆∞a ·ªïn th√¨ ch∆∞a ph·∫£i l√† k·∫øt th√∫c.",
            "Order m·ªôt ly tr√† s·ªØa √≠t ƒë√°, nhi·ªÅu ni·ªÅm vui cho ng√†y h√¥m nay.",
            "V≈© tr·ª• nh·∫Øn g·ª≠i: H√¥m nay l√† m·ªôt ng√†y t·ªët l√†nh."
        ];

        function showRandomQuote() {
            const quoteEl = document.getElementById('daily-quote');
            quoteEl.style.opacity = 0;
            setTimeout(() => {
                const randomIndex = Math.floor(Math.random() * quotes.length);
                quoteEl.textContent = `"${quotes[randomIndex]}"`;
                quoteEl.style.opacity = 1;
            }, 300);
        }

        // --- PH·∫¶N 2: LOGIC TUY·∫æT 3.9D + GI√ì TH·ªîI ---
        let scene, camera, renderer, particles;
        let velocities = []; // M·∫£ng ch·ª©a t·ªëc ƒë·ªô r∆°i c·ªßa t·ª´ng h·∫°t
        let mouseX = 0, mouseY = 0;
        let targetWindX = 0, targetWindY = 0; // Bi·∫øn gi√≥ m·ª•c ti√™u
        let currentWindX = 0, currentWindY = 0; // Bi·∫øn gi√≥ hi·ªán t·∫°i (ƒë·ªÉ m∆∞·ª£t ho√° chuy·ªÉn ƒë·ªông)
        let windowHalfX = window.innerWidth / 2;
        let windowHalfY = window.innerHeight / 2;

        function init3D() {
            const canvas = document.getElementById('webgl-canvas');
            
            // T·∫°o scene
            scene = new THREE.Scene();
            // KH√îNG set m√†u n·ªÅn scene, ƒë·ªÉ n√≥ trong su·ªët (alpha) cho hi·ªán m√†u ƒë·ªè ƒëen c·ªßa Body
            
            // T·∫°o camera
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 3000);
            camera.position.z = 1000;

            // Render trong su·ªët (alpha: true)
            renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true, alpha: true });
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.setSize(window.innerWidth, window.innerHeight);

            // T·∫°o h·∫°t tuy·∫øt
            const particleGeometry = new THREE.BufferGeometry();
            const particleCount = 1500; // S·ªë l∆∞·ª£ng h·∫°t v·ª´a ph·∫£i ƒë·ªÉ m∆∞·ª£t tr√™n ƒëi·ªán tho·∫°i

            const positions = new Float32Array(particleCount * 3);
            velocities = []; // Reset m·∫£ng

            for (let i = 0; i < particleCount; i++) {
                // V·ªã tr√≠ ng·∫´u nhi√™n
                positions[i * 3] = (Math.random() - 0.5) * 4000;     // X
                positions[i * 3 + 1] = (Math.random() - 0.5) * 4000; // Y
                positions[i * 3 + 2] = (Math.random() - 0.5) * 4000; // Z

                // T·ªëc ƒë·ªô r∆°i c∆° b·∫£n
                velocities.push({
                    y: -1 - Math.random() * 3, // R∆°i xu·ªëng
                    x: (Math.random() - 0.5) * 1, // L·∫Øc l∆∞ ngang nh·∫π
                    z: (Math.random() - 0.5) * 1  // L·∫Øc l∆∞ s√¢u nh·∫π
                });
            }

            particleGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));

            // T·∫°o h√¨nh d·∫°ng h·∫°t tuy·∫øt tr√≤n m·ªÅm m·∫°i
            const particleMaterial = new THREE.PointsMaterial({
                color: 0xffffff,
                size: 5, // K√≠ch th∆∞·ªõc h·∫°t
                transparent: true,
                opacity: 0.8,
                // Shader tu·ª≥ ch·ªânh ƒë·ªÉ h·∫°t tr√≤n xoe, kh√¥ng vu√¥ng
                onBeforeCompile: shader => {
                    shader.fragmentShader = shader.fragmentShader.replace(
                        `gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,
                        `
                        float d = length(gl_PointCoord - vec2(0.5, 0.5));
                        if (d > 0.5) discard;
                        // L√†m m·ªù vi·ªÅn h·∫°t tuy·∫øt
                        gl_FragColor = vec4( outgoingLight, diffuseColor.a * (1.0 - d*1.5) );
                        `
                    );
                }
            });

            particles = new THREE.Points(particleGeometry, particleMaterial);
            scene.add(particles);

            // S·ª± ki·ªán
            document.addEventListener('mousemove', onDocumentMouseMove);
            document.addEventListener('touchstart', onDocumentTouchStart, { passive: false });
            document.addEventListener('touchmove', onDocumentTouchMove, { passive: false });
            window.addEventListener('resize', onWindowResize);
        }

        // --- X·ª¨ L√ù S·ª∞ KI·ªÜN GI√ì (MOUSE & TOUCH) ---
        function onWindowResize() {
            windowHalfX = window.innerWidth / 2;
            windowHalfY = window.innerHeight / 2;
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        function onDocumentMouseMove(event) {
            // T√≠nh to√°n h∆∞·ªõng gi√≥ d·ª±a tr√™n v·ªã tr√≠ chu·ªôt so v·ªõi t√¢m m√†n h√¨nh
            // Chu·ªôt c√†ng xa t√¢m, gi√≥ c√†ng m·∫°nh
            targetWindX = (event.clientX - windowHalfX) * 0.1; 
            targetWindY = (event.clientY - windowHalfY) * 0.1;
        }

        function onDocumentTouchStart(event) {
            if (event.touches.length === 1) {
                targetWindX = (event.touches[0].pageX - windowHalfX) * 0.2; // Gi√≥ m·∫°nh h∆°n ch√∫t tr√™n mobile
                targetWindY = (event.touches[0].pageY - windowHalfY) * 0.2;
            }
        }

        function onDocumentTouchMove(event) {
            if (event.touches.length === 1) {
                // event.preventDefault(); // C√≥ th·ªÉ b·ªè d√≤ng n√†y n·∫øu mu·ªën cho ph√©p cu·ªôn trang b√¨nh th∆∞·ªùng
                targetWindX = (event.touches[0].pageX - windowHalfX) * 0.2;
                targetWindY = (event.touches[0].pageY - windowHalfY) * 0.2;
            }
        }

        // --- V√íNG L·∫∂P RENDER ---
        function animate() {
            requestAnimationFrame(animate);

            // 1. L√†m m∆∞·ª£t gi√≥ (Hi·ªáu ·ª©ng qu√°n t√≠nh)
            // Gi√≥ hi·ªán t·∫°i s·∫Ω ƒëu·ªïi theo gi√≥ m·ª•c ti√™u t·ª´ t·ª´ -> t·∫°o c·∫£m gi√°c "lu·ªìng gi√≥" t·ª± nhi√™n
            currentWindX += (targetWindX - currentWindX) * 0.05;
            currentWindY += (targetWindY - currentWindY) * 0.05;

            // 2. C·∫≠p nh·∫≠t v·ªã tr√≠ h·∫°t
            const positions = particles.geometry.attributes.position.array;
            
            for (let i = 0; i < positions.length / 3; i++) {
                // L·∫•y to·∫° ƒë·ªô c≈©
                let px = positions[i * 3];
                let py = positions[i * 3 + 1];
                let pz = positions[i * 3 + 2];

                // --- LOGIC V·∫¨T L√ù ---
                // C·ªông t·ªëc ƒë·ªô r∆°i t·ª± nhi√™n
                py += velocities[i].y;
                px += velocities[i].x;
                pz += velocities[i].z;

                // C·ªông t√°c ƒë·ªông c·ªßa GI√ì (theo v·ªã tr√≠ chu·ªôt)
                // H·∫°t c√†ng g·∫ßn m√†n h√¨nh (pz > 0) c√†ng ch·ªãu gi√≥ m·∫°nh h∆°n
                // Logic gi√≥: Th·ªïi h·∫°t bay theo h∆∞·ªõng chu·ªôt
                px += currentWindX * 0.05; 
                py += -currentWindY * 0.05; // Gi√≥ th·ªïi ng∆∞·ª£c chi·ªÅu Y chu·ªôt ƒë·ªÉ t·∫°o c·∫£m gi√°c h√∫t/ƒë·∫©y

                // --- T√ÅI T·∫†O H·∫†T (Respanw) ---
                // N·∫øu r∆°i xu·ªëng ƒë√°y ho·∫∑c bay qu√° xa -> ƒê∆∞a v·ªÅ ƒë·ªânh ho·∫∑c ph√≠a ƒë·ªëi di·ªán
                if (py < -2000) {
                    py = 2000;
                    px = (Math.random() - 0.5) * 4000;
                    pz = (Math.random() - 0.5) * 4000;
                }
                // N·∫øu b·ªã gi√≥ th·ªïi bay qu√° xa sang 2 b√™n
                if (Math.abs(px) > 3000) px = px * -0.9; 

                // C·∫≠p nh·∫≠t to·∫° ƒë·ªô m·ªõi
                positions[i * 3] = px;
                positions[i * 3 + 1] = py;
                positions[i * 3 + 2] = pz;
            }
            
            particles.geometry.attributes.position.needsUpdate = true;

            // Xoay nh·∫π to√†n b·ªô h·ªá th·ªëng h·∫°t ƒë·ªÉ t·∫°o c·∫£m gi√°c kh√¥ng gian tr√¥i n·ªïi
            scene.rotation.y += 0.0005;

            renderer.render(scene, camera);
        }

        // --- CH·∫†Y CH∆Ø∆†NG TR√åNH ---
        window.onload = function() {
            // Ch·∫°y logic c≈©
            updateCountdown();
            setInterval(updateCountdown, 1000);
            showRandomQuote();
            
            // Ch·∫°y logic m·ªõi (3D)
            init3D();
            animate();
        };
    </script>
</body>
</html>
